(function(c){function d(b){return c.data(b,"tooltip")}function p(b){if(d(this).delay)j=setTimeout(m,d(this).delay);else m();n=!!d(this).track;c(document.body).bind("mousemove",i);i(b)}function q(){if(!(c.tooltip.blocked||this==f||!this.tooltipText&&!d(this).bodyHandler)){f=this;l=this.tooltipText;if(d(this).bodyHandler){a.title.hide();var b=d(this).bodyHandler.call(this);b.nodeType||b.jquery?a.body.empty().append(b):a.body.html(b);a.body.show()}else if(d(this).showBody){b=l.split(d(this).showBody);
a.title.html(b.shift()).show();a.body.empty();for(var e=0,g;g=b[e];e++){e>0&&a.body.append("<br/>");a.body.append(g)}a.body.hideWhenEmpty()}else{a.title.html(l).show();a.body.hide()}d(this).showURL&&c(this).url()?a.url.html(c(this).url().replace("http://","")).show():a.url.hide();a.parent.addClass(d(this).extraClass);d(this).fixPNG&&a.parent.fixPNG();p.apply(this,arguments)}}function m(){j=null;if((!k||!c.fn.bgiframe)&&d(f).fade)if(a.parent.is(":animated"))a.parent.stop().show().fadeTo(d(f).fade,
f.tOpacity);else a.parent.is(":visible")?a.parent.fadeTo(d(f).fade,f.tOpacity):a.parent.fadeIn(d(f).fade);else a.parent.show();i()}function i(b){if(!c.tooltip.blocked)if(!(b&&b.target.tagName=="OPTION")){!n&&a.parent.is(":visible")&&c(document.body).unbind("mousemove",i);if(f==null)c(document.body).unbind("mousemove",i);else{a.parent.removeClass("viewport-right").removeClass("viewport-bottom");var e=a.parent[0].offsetLeft,g=a.parent[0].offsetTop;if(b){e=b.pageX+d(f).left;g=b.pageY+d(f).top;b="auto";
if(d(f).positionLeft){b=c(window).width()-e;e="auto"}a.parent.css({left:e,right:b,top:g})}b={x:c(window).scrollLeft(),y:c(window).scrollTop(),cx:c(window).width(),cy:c(window).height()};var h=a.parent[0];if(b.x+b.cx<h.offsetLeft+h.offsetWidth){e-=h.offsetWidth+20+d(f).left;a.parent.css({left:e+"px"}).addClass("viewport-right")}if(b.y+b.cy<h.offsetTop+h.offsetHeight){g-=h.offsetHeight+20+d(f).top;a.parent.css({top:g+"px"}).addClass("viewport-bottom")}}}}function o(){function b(){a.parent.removeClass(e.extraClass).hide().css("opacity",
"")}if(!c.tooltip.blocked){j&&clearTimeout(j);f=null;var e=d(this);if((!k||!c.fn.bgiframe)&&e.fade)a.parent.is(":animated")?a.parent.stop().fadeTo(e.fade,0,b):a.parent.stop().fadeOut(e.fade,b);else b();d(this).fixPNG&&a.parent.unfixPNG()}}var a={},f,l,j,k=c.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),n=false;c.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){c.tooltip.blocked=!c.tooltip.blocked}};c.fn.extend({tooltip:function(b){b=
c.extend({},c.tooltip.defaults,b);if(!a.parent){a.parent=c('<div id="'+b.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();c.fn.bgiframe&&a.parent.bgiframe();a.title=c("h3",a.parent);a.body=c("div.body",a.parent);a.url=c("div.url",a.parent)}return this.each(function(){c.data(this,"tooltip",b);this.tOpacity=a.parent.css("opacity");this.tooltipText=this.title;c(this).removeAttr("title");this.alt=""}).mouseover(q).mouseout(o).click(o)},fixPNG:k?function(){return this.each(function(){var b=
c(this).css("backgroundImage");if(b.match(/^url\(["']?(.*\.png)["']?\)$/i)){b=RegExp.$1;c(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"}).each(function(){var e=c(this).css("position");e!="absolute"&&e!="relative"&&c(this).css("position","relative")})}})}:function(){return this},unfixPNG:k?function(){return this.each(function(){c(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){c(this)[c(this).html()?
"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery);
