(function(k,l){if(typeof define==="function"&&define.amd)define(l);else if(typeof module==="object"&&typeof module.exports==="object")module.exports=l();else k.Cldr=l()})(this,function(){var k=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},l=function(a,b){if(k(a))a=a.join("/");if(typeof a!=="string")throw Error('invalid path "'+a+'"');a=a.replace(/^\//,"").replace(/^cldr\//,"");a=a.replace(/{[a-zA-Z]+}/g,function(c){c=c.replace(/^{([^}]*)}$/,"$1");return b[c]});
return a.split("/")},u=function(a,b){var c,e;if(a.some)return a.some(b);c=0;for(e=a.length;c<e;c++)if(b(a[c],c,a))return true;return false},p=function(a,b,c,e){var d,h=c[0],g=c[1],i=a.localeSep;a=c[2];e=e||{};if(h!=="und"&&g!=="Zzzz"&&a!=="ZZ")return[h,g,a];if(typeof b.get("supplemental/likelySubtags")!=="undefined")if(u([[h,g,a],[h,a],[h,g],[h],["und",g]],function(j){return d=!/\b(Zzzz|ZZ)\b/.test(j.join(i))&&b.get(["supplemental/likelySubtags",j.join(i)])})){d=d.split(i);return[h!=="und"?h:d[0],
g!=="Zzzz"?g:d[1],a!=="ZZ"?a:d[2]]}else if(e.force)return b.get("supplemental/likelySubtags/und").split(i)},v=function(a,b,c){var e,d=c[0],h=c[1],g=c[2];return u([[[d,"Zzzz","ZZ"],[d]],[[d,"Zzzz",g],[d,g]],[[d,h,"ZZ"],[d,h]]],function(i){var j=p(a,b,i[0]);e=i[1];return j&&j[0]===c[0]&&j[1]===c[1]&&j[2]===c[2]})?e:c},w=function(a){var b,c=[];a=a.replace(/_/,"-");b=a.split("-u-");if(b[1]){b[1]=b[1].split("-t-");a=b[0]+(b[1][1]?"-t-"+b[1][1]:"");c[4]=b[1][0]}b=a.split("-t-")[0].match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)(-[a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3})*$|^(root)$/);
if(b===null)return["und","Zzzz","ZZ"];c[0]=b[9]||b[2]||"und";c[1]=b[4]||"Zzzz";c[2]=b[6]||"ZZ";c[3]=b[7];return c},q=function(a,b){var c,e;if(a.forEach)return a.forEach(b);c=0;for(e=a.length;c<e;c++)b(a[c],c,a)},D=function(a,b,c){var e=a._availableBundleMap,d=a._availableBundleMapQueue;if(d.length){q(d,function(h){var g,i;g=w(h);g=p(a,b,g,{force:true})||g;i=v(a,b,g);i=i.join(a.localeSep);(g=d[i])&&g.length<h.length||(e[i]=h)});a._availableBundleMapQueue=[]}return e[c]||null},E=function(a){var b,c=
[];if(Object.keys)return Object.keys(a);for(b in a)c.push(b);return c},n=function(a,b){var c,e;e=a+(b&&JSON?": "+JSON.stringify(b):"");c=Error(e);c.code=a;q(E(b),function(d){c[d]=b[d]});return c},m=function(a,b){var c={name:b};if(typeof a==="undefined")throw n("E_MISSING_PARAMETER",c);},o=function(a,b,c,e){a={expected:e,name:b,value:a};if(!c)throw n("E_INVALID_PAR_TYPE",a);},r=function(a,b){o(a,b,typeof a==="string"||k(a),"String or Array")},x=function(a,b){o(a,b,typeof a==="undefined"||a!==null&&
""+a==="[object Object]","Plain Object")},s=function(a,b){var c,e=a,d=b.length;for(c=0;c<d-1;c++){e=e[b[c]];if(!e)return}return e[b[c]]},t=function(a){return k(a)?a:[a]},y=function(){var a=function(){var b={},c=[].slice.call(arguments,0);q(c,function(e){for(var d in e)b[d]=d in b&&k(b[d])?b[d].concat(e[d]):d in b&&typeof b[d]==="object"?a(b[d],e[d]):e[d]});return b};return a}(),z=function(a,b,c){var e,d,h;m(c[0],"json");for(e=0;e<c.length;e++){h=t(c[e]);for(d=0;d<h.length;d++){x(h[d],"json");b=y(b,
h[d]);var g=void 0,i=a._availableBundleMapQueue,j=s(h[d],["main"]);if(j)for(g in j)j.hasOwnProperty(g)&&g!=="root"&&i.push(g)}}return b},A=function(a,b,c){b=l(b,c);return s(a._resolved,b)},f=function(a){this.init(a)};f._alwaysArray=t;f._coreLoad=z;f._createError=n;f._itemGetResolved=A;f._jsonMerge=y;f._pathNormalize=l;f._resourceGet=s;f._validatePresence=m;f._validateType=o;f._validateTypePath=r;f._validateTypePlainObject=x;f._availableBundleMap={};f._availableBundleMapQueue=[];f._resolved={};f.localeSep=
"-";f.load=function(){f._resolved=z(f,f._resolved,arguments)};f.prototype.init=function(a){var b,c,e,d,h,g,i,j,B=f.localeSep;m(a,"locale");o(a,"locale",typeof a==="string","a string");c=w(a);i=c[4];j=c[3];e=p(f,this,c,{force:true})||c;c=e[0];h=e[1];g=e[2];d=v(f,this,e).join(B);this.attributes=b={bundle:D(f,this,d),minlanguageId:d,maxLanguageId:e.join(B),language:c,script:h,territory:g,region:g,variant:j};i&&("-"+i).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(F,C,G){if(C)b["u"+C]=G;else b["u"+
F]=true});this.locale=a};f.prototype.get=function(a){m(a,"path");r(a,"path");return A(f,a,this.attributes)};f.prototype.main=function(a){m(a,"path");r(a,"path");var b={locale:this.locale};if(this.attributes.bundle===null)throw n("E_MISSING_BUNDLE",b);a=t(a);return this.get(["main/{bundle}"].concat(a))};return f});
